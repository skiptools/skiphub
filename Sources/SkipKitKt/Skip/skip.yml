# skip.tools per-configuration file

#skip:
#  package: 'skip.kit'

# the blocks to add to the build.gradle.kts
build:
  contents:
    - block: 'plugins'
      export: false
      contents:
        - 'kotlin("android") version "1.8.21"'
        - 'id("com.android.library") version "8.1+"'

    - block: 'android'
      contents:
        - 'namespace = group as String'
        - 'compileSdk = 33'
        - block: 'defaultConfig'
          contents:
            #- 'applicationId = "com.example.myapp"'
            - 'targetSdk = 33'
            - 'minSdk = 28'
            - 'testInstrumentationRunner = "androidx.test.runner.AndroidJUnitRunner"'
        - block: 'compileOptions'
          contents:
            - 'sourceCompatibility = JavaVersion.VERSION_17'
            - 'targetCompatibility = JavaVersion.VERSION_17'
        - block: 'kotlinOptions'
          contents:
            - 'jvmTarget = "17"'

        - block: 'testOptions'
          contents:
            - 'unitTests.isIncludeAndroidResources = true'

    - block: 'dependencies'
      contents:
        - 'testImplementation("org.robolectric:robolectric:4.10.2")'
        - 'testImplementation("androidx.test:core:1.5.0")'

    - block: 'tasks.withType<Test>().configureEach'
      contents:
        - 'systemProperties.put("robolectric.logging", "stdout")'
        - block: 'testLogging'
          contents:
            - 'this.showStandardStreams = true'

# the blocks to add to the settings.gradle.kts
settings:
  contents:
    - block: 'pluginManagement'
      contents:
        - block: 'repositories'
          contents:
            - 'google()'

    - block: 'dependencyResolutionManagement'
      contents:
        - block: 'repositories'
          contents:
            - 'google()'
